---
description: "项目概述和技术栈"
globs: []
alwaysApply: false
---

# 项目概述

## 项目定位
基于 Next.js 16 的全栈博客项目，支持 Markdown 文章管理、标签分类、文章合集、AI 对话、语义搜索、评论系统、变更追踪等功能。

## 技术栈

### 核心框架
- Next.js 16.0.10 (App Router)
- React 19.2.1
- TypeScript 5.9.3 (严格模式)
- Node.js >= 18.x
- 包管理器：pnpm

### UI 和样式
- **Ant Design 6.1.1**（固定版本，注意 6.x API 变更）
  - `antd`: `6.1.1`
  - `@ant-design/icons`: `^6.1.0`
  - `@ant-design/nextjs-registry`: `^1.3.0`
  - **重要**：使用新 API，如 `Space` 组件的 `orientation` 而非 `direction`
- Tailwind CSS 4.1.17
- CSS Modules 支持

### 数据层
- 数据库：MySQL 5.7+
- ORM：Prisma 6.2.1
- 缓存：Redis (ioredis)
- 向量数据库：Qdrant

### AI 工具库
- **Anthropic**：`@anthropic-ai/sdk` - 官方 SDK，用于 Claude 模型
- **OpenAI**：`@langchain/openai` + `@langchain/core` - LangChain 包装
- **注意**：两套工具独立使用，根据模型提供商选择

### 其他工具库
- Axios：HTTP 客户端
- dayjs：日期处理
- lodash-es：工具函数库
- bcrypt：密码加密
- zod：运行时类型验证

## 核心功能

### 内容管理
- ✅ Markdown 文章编辑与管理
- ✅ 文章版本控制
- ✅ 标签与分类管理
- ✅ 文章合集（Collections）
- ✅ 富文本与 Markdown 双模式
- ✅ 图片/视频上传（MediaUpload 组件）

### 社交互动
- ✅ 评论系统（支持回复）
- ✅ 点赞功能
- ✅ 访客统计

### AI 功能
- ✅ AI 文本处理（润色、摘要、翻译）
- ✅ AI 对话聊天（RAG 模式）
- ✅ 语义搜索（基于 Qdrant）
- ✅ 文章向量化
- ✅ AI 配置管理（数据库驱动）

### 用户系统
- ✅ 多种登录方式（账号密码、GitHub、微信）
- ✅ 角色权限管理
- ✅ 长期令牌（LTK）认证
- ✅ OAuth 2.0 支持

### 开发者工具
- ✅ 实体变更日志（数据追踪）
- ✅ 管理后台
- ✅ 系统配置管理
- ✅ 向量搜索管理

### 页面功能
- ✅ 时间线页面
- ✅ 分类归档
- ✅ 标签筛选
- ✅ 合集展示
