@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
}

/* 中文友好的系统字体配置 */
@layer base {
  html {
    /* 系统默认字体栈，优先使用本地字体 */
    font-family: 
      -apple-system, 
      BlinkMacSystemFont, 
      "Segoe UI", 
      "Noto Sans", 
      Helvetica, 
      Arial, 
      "PingFang SC", 
      "Hiragino Sans GB", 
      "Microsoft YaHei", 
      "微软雅黑", 
      sans-serif, 
      "Apple Color Emoji", 
      "Segoe UI Emoji";
  }

  /* 代码字体 */
  code,
  pre,
  kbd,
  samp {
    font-family: 
      ui-monospace, 
      SFMono-Regular, 
      "SF Mono", 
      Menlo, 
      Consolas, 
      "Liberation Mono", 
      "Courier New", 
      monospace;
  }
}

/* Header 样式 */
.header {
  --height: 3rem;
  height: var(--height);
  box-shadow: 0 1px 3px rgb(18 18 18 / 10%);
  width: 100%;
  z-index: 50;
  transition: opacity 0.3s;
}

.header:hover {
  opacity: 1 !important;
}

.header .menu .category {
  line-height: var(--height);
  font-size: 16px;
}

.header .menu .category ul li a.router-link-exact-active,
.header .menu .category ul li a[aria-current="page"] {
  position: relative;
}

.header .menu .category ul li a.router-link-exact-active::after,
.header .menu .category ul li a[aria-current="page"]::after {
  position: absolute;
  bottom: 0;
  left: 0;
  content: "";
  width: 100%;
  height: 1px;
}

/* DocSearch 暗色模式样式 */
.dark .DocSearch {
  --docsearch-text-color: #f5f6f7;
  --docsearch-container-background: rgba(9, 10, 17, 0.8);
  --docsearch-modal-background: #15172a;
  --docsearch-modal-shadow: inset 1px 1px 0 0 #2c2e40, 0 3px 8px 0 #000309;
  --docsearch-searchbox-background: #090a11;
  --docsearch-searchbox-focus-background: #000;
  --docsearch-hit-color: #bec3c9;
  --docsearch-hit-shadow: none;
  --docsearch-hit-background: #090a11;
  --docsearch-key-gradient: linear-gradient(-26.5deg, #565872, #31355b);
  --docsearch-key-shadow: inset 0 -2px 0 0 #282d55, inset 0 0 1px 1px #51577d, 0 2px 2px 0 rgba(3, 4, 9, 0.3);
  --docsearch-footer-background: #1e2136;
  --docsearch-footer-shadow: inset 0 1px 0 0 rgba(73, 76, 106, 0.5), 0 -4px 8px 0 rgba(0, 0, 0, 0.2);
  --docsearch-logo-color: #fff;
  --docsearch-muted-color: #7f8497;
}

.dark .DocSearch .DocSearch-Button .DocSearch-Button-Key {
  box-shadow: unset;
}

/* MarkdownPreview 代码块样式修复 */
/* 移除 md-editor-rt 代码块的 sticky 吸附功能 */
.markdown-preview-wrapper pre,
.markdown-preview-wrapper pre code,
.markdown-preview-wrapper .md-editor-preview pre,
.markdown-preview-wrapper .md-editor-preview pre code {
  position: relative !important;
  top: auto !important;
  max-height: none !important;
}

/* 覆盖所有可能的 sticky 定位 */
.markdown-preview-wrapper [style*="position: sticky"],
.markdown-preview-wrapper [style*="position:fixed"] {
  position: relative !important;
  top: auto !important;
}
